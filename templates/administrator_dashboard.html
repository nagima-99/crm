{% extends 'base_administrator.html' %}

{% block title %}Профиль Администратора{% endblock %}

{% block content %}
<div class="profile-container">

    <div class="profile-avatar">
        <img src="{{ url_for('static', filename='image/avatar.jpg') }}" alt="Аватарка" width="100" height="100">
        <h2>{{ administrator.username }}</h2>
    </div>  

    <div class="section">
        <h3>
            Общая информация
            <button class="edit-btn" onclick="document.getElementById('general-info-form').style.display='block'">✏️</button>
        </h3>
        <div class="profile-item">
            <span>Email: {{ administrator.email }}</span>
        </div>
        <div class="profile-item">
            <span>Телефон: {{ administrator.phone }}</span>
        </div>
        <div id="general-info-form" class="edit-form" style="display:none;">
            <form method="POST" action="{{ url_for('administrator_dashboard', id=administrator.id) }}">
                <label>Email:</label>
                <input type="email" name="email" value="{{ administrator.email }}" required>
                <label>Телефон:</label>
                <input type="text" name="phone" value="{{ administrator.phone }}" required>
                <button type="submit">Сохранить</button>
                <button type="button" onclick="document.getElementById('general-info-form').style.display='none'">Отмена</button>
            </form>
        </div>
    </div>

    <div class="section">
        <h3>
            Офисы
            <button class="edit-btn" onclick="document.getElementById('offices-form').style.display='block'">✏️</button>
        </h3>
        <div class="profile-item">
            <span>Основной офис: {{ administrator.main_office }}</span>
        </div>
        <div class="profile-item">
            <span>Дополнительные офисы: {{ administrator.additional_offices }}</span>
        </div>
        <div id="offices-form" class="edit-form" style="display:none;">
            <form method="POST" action="{{ url_for('administrator_dashboard', id=administrator.id) }}">
                <label>Основной офис:</label>
                <input type="text" name="main_office" value="{{ administrator.main_office }}" required>
                <label>Дополнительные офисы:</label>
                <input type="text" name="additional_offices" value="{{ administrator.additional_offices }}" required>
                <button type="submit">Сохранить</button>
                <button type="button" onclick="document.getElementById('offices-form').style.display='none'">Отмена</button>
            </form>
        </div>
    </div>

    <div class="section">
        <h3>
            Личная информация
            <button class="edit-btn" onclick="document.getElementById('personal-info-form').style.display='block'">✏️</button>
        </h3>
        <div class="profile-item">
            <span>Адрес: {{ administrator.address }}</span>
        </div>
        <div class="profile-item">
            <span>Возраст: {{ administrator.birth_date }}</span>
        </div>
        <div id="personal-info-form" class="edit-form" style="display:none;">
            <form method="POST" action="{{ url_for('administrator_dashboard', id=administrator.id) }}">
                <label>Адрес:</label>
                <input type="text" name="address" value="{{ administrator.address }}" required>
                <label>Возраст:</label>
                <input type="date" name="birth_date" value="{{ administrator.birth_date }}" required>
                <button type="submit">Сохранить</button>
                <button type="button" onclick="document.getElementById('personal-info-form').style.display='none'">Отмена</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
